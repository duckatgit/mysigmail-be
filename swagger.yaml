openapi: 3.0.0
info:
  title: My Sigmail
  version: 0.1.9
servers:
  - url: http://localhost:8000/api
    description: Local Server
tags:
  - name: auth
    description: Everything about Authenciation API
paths:
  /auth/sign-in:
    post:
      tags:
        - auth
      summary: Login to the system
      description: Log in to the system with username and password.
      requestBody:
        required: true
        content:
         application/json:
          schema:
           type: object
           properties:
              email:
                type: string
              firstName:
                type: string
              lastName:
                type: string
              gender:
                type: string
              password:
                type: string
     
      responses:
        "200":
          description: successful done
  /auth/sign-up:
    post:
      tags:
        - auth
      summary: Sign up for a new account
      description: Create an account using email, firstname, lastname and password.

      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                
                firstName:
                  type: string
                lastName:
                  type: string
                gender:
                  type: string
                password:
                  type: string

      responses:
        "200":
          description: successful done
  /auth/verify-email:
    post:
      tags:
        - auth
      summary: verify your email
      description: Verify your email by clicking on the link sent to you via email.
      requestBody:
       required: true
       content :
        application/json:
          schema:
           type: object
           properties:
             email:
              type: string
     
      responses:
        "200":
          description: email verify successful
  /auth/resend-verify-email:
    post:
      tags:
        - auth
      summary: resend email to verify
      description: Send another verification email to user.
      parameters:
        - name: email
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful send email
        "400":
          description: invalid request
  /auth/forget-password:
    post:
      tags:
        - auth
      summary: forget your password
      description: Forget your password and get a new one.
      parameters:
        - name: email
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: email send to your registered email
        "400":
          description: invalid email
        "501":
          description: email does not exist
  /auth/set-new-password:
    put:
      tags:
        - auth
      summary: set new password after forgetting it
      description: Set new password for user.
      parameters:
        - name: password
          in: query
          required: true
          schema:
            type: string
        - name: email
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful change password
        "400":
          description: invalid request
        "500":
          description: server error
  /auth/validate-token:
    post:
      tags:
        - auth
      summary: validate user
      description: Validate token of the user.
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful validate token
components:
  schemas:
    User:
      type: object
      required:
        - firstName
        - gender
        - email
        - password
      properties:
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
        password:
          type: string
        OTP:
          type: number
        isVerified:
          type: boolean
